"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3116],{3116:(_,g,a)=>{a.r(g),a.d(g,{ConfirmPasswordPageModule:()=>M});var f=a(6019),d=a(9010),t=a(6371),c=a(8725),m=a(8239),p=a(6354),e=a(865),P=a(7524);function w(o,i){1&o&&(e.TgZ(0,"div",19),e._uU(1," La contrase\xf1a es requerida. "),e.qZA())}function C(o,i){1&o&&(e.TgZ(0,"div",19),e._uU(1," La contrase\xf1a debe tener al menos 8 caracteres, incluir may\xfasculas, min\xfasculas, un n\xfamero y un caracter especial. "),e.qZA())}function Z(o,i){1&o&&(e.TgZ(0,"div",19),e._uU(1," Confirmar contrase\xf1a es requerida. "),e.qZA())}function h(o,i){1&o&&(e.TgZ(0,"div",19),e._uU(1," Las contrase\xf1as no coinciden. "),e.qZA())}const v=[{path:"",component:(()=>{class o{constructor(r,n,l,s,u){this.modalController=r,this.navCtrl=n,this.router=l,this.userService=s,this.alertController=u,this.email="",this.passwordPattern=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_\-+=\[\]{}|\\:;"'<>,.?/])[A-Za-z\d!@#$%^&*()_\-+=\[\]{}|\\:;"'<>,.?/]{8,}$/,this.viewPassword=!1,this.submitAttempted=!1,this.passwordsDontMatch=!1;const T=this.router.getCurrentNavigation();this.email=T?.extras.state?.email}ngOnInit(){}changeType(){this.viewPassword=!this.viewPassword}onBack(){this.navCtrl.back()}onConfirm(r){var n=this;return(0,m.Z)(function*(){n.submitAttempted=!0,n.newPassword===n.confirmPassword?(n.passwordsDontMatch=!1,r.valid&&n.userService.updatePassword(n.email,n.newPassword).subscribe(function(){var l=(0,m.Z)(function*(s){"Contrase\xf1a actualizada correctamente"===s?n.onConfirm2():yield(yield n.alertController.create({header:"Alerta",message:"Hubo un error al actualizar la contrase\xf1a",buttons:["OK"]})).present()});return function(s){return l.apply(this,arguments)}}())):n.passwordsDontMatch=!0})()}onConfirm2(){var r=this;return(0,m.Z)(function*(){yield(yield r.modalController.create({component:p.M,cssClass:"successModal"})).present(),r.navCtrl.navigateRoot(["login"])})()}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(t.IN),e.Y36(t.SH),e.Y36(c.F0),e.Y36(P.K),e.Y36(t.Br))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-confirm-password"]],decls:29,vars:10,consts:[[1,"ion-no-border"],["mode","md","color","primary"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back","color","light"],[1,"ion-padding"],[1,"head-title"],[1,"sub-title"],[3,"ngSubmit"],["passwordForm","ngForm"],[1,"input_box"],["name","newPassword","required","","placeholder","Nueva contrase\xf1a",3,"type","ngModel","pattern","ngModelChange"],["newPasswordRef","ngModel"],["fill","clear","slot","end",1,"toggle_btn",3,"click"],["slot","icon-only",3,"name"],["name","confirmPassword","required","","placeholder","Confirmar contrase\xf1a",3,"type","ngModel","ngModelChange"],["confirmPasswordRef","ngModel"],["class","error-message",4,"ngIf"],["type","submit","expand","block","shape","round",1,"login-btn"],[1,"error-message"]],template:function(r,n){if(1&r){const l=e.EpF();e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar",1),e.TgZ(2,"ion-buttons",2),e.TgZ(3,"ion-button",3),e.NdJ("click",function(){return n.onBack()}),e._UZ(4,"ion-icon",4),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"ion-content",5),e.TgZ(6,"h2",6),e._uU(7,"Restablecer contrase\xf1a"),e.qZA(),e.TgZ(8,"p",7),e._uU(9,"Ingresa tu nueva contrase\xf1a y conf\xedrmala"),e.qZA(),e.TgZ(10,"form",8,9),e.NdJ("ngSubmit",function(){e.CHM(l);const u=e.MAs(11);return n.onConfirm(u)}),e.TgZ(12,"ion-item"),e.TgZ(13,"div",10),e.TgZ(14,"ion-input",11,12),e.NdJ("ngModelChange",function(u){return n.newPassword=u}),e.qZA(),e.qZA(),e.TgZ(16,"ion-button",13),e.NdJ("click",function(){return n.changeType()}),e._UZ(17,"ion-icon",14),e.qZA(),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"ion-item"),e.TgZ(20,"div",10),e.TgZ(21,"ion-input",15,16),e.NdJ("ngModelChange",function(u){return n.confirmPassword=u}),e.qZA(),e.qZA(),e.qZA(),e.YNc(23,w,2,0,"div",17),e.YNc(24,C,2,0,"div",17),e.YNc(25,Z,2,0,"div",17),e.YNc(26,h,2,0,"div",17),e.TgZ(27,"ion-button",18),e._uU(28," Restablecer contrase\xf1a "),e.qZA(),e.qZA(),e.qZA()}if(2&r){const l=e.MAs(15),s=e.MAs(22);e.xp6(14),e.Q6J("type",n.viewPassword?"text":"password")("ngModel",n.newPassword)("pattern",n.passwordPattern),e.xp6(3),e.Q6J("name",1==n.viewPassword?"eye-outline":"eye-off-outline"),e.xp6(4),e.Q6J("type",n.viewPassword?"text":"password")("ngModel",n.confirmPassword),e.xp6(2),e.Q6J("ngIf",n.submitAttempted&&(null==l.errors?null:l.errors.required)),e.xp6(1),e.Q6J("ngIf",n.submitAttempted&&(null==l.errors?null:l.errors.pattern)),e.xp6(1),e.Q6J("ngIf",n.submitAttempted&&(null==s.errors?null:s.errors.required)),e.xp6(1),e.Q6J("ngIf",n.submitAttempted&&n.passwordsDontMatch)}},directives:[t.Gu,t.sr,t.Sm,t.YG,t.gu,t.W2,d._Y,d.JL,d.F,t.Ie,t.pK,t.j9,d.Q7,d.JJ,d.On,d.c5,f.O5],styles:['.head-title[_ngcontent-%COMP%]{text-align:center;font-size:18px;font-family:"bold"}.sub-title[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:gray}.login-btn[_ngcontent-%COMP%]{--border-radius: 14px;margin-top:50px}.error-message[_ngcontent-%COMP%]{color:red;font-size:.8em}']}),o})()}];let A=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.Bz.forChild(v)],c.Bz]}),o})(),M=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[f.ez,d.u5,t.Pc,A]]}),o})()}}]);