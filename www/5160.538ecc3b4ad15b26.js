"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5160],{5160:(_,m,a)=>{a.r(m),a.d(m,{AdministradorUsuariosPageModule:()=>T});var u=a(6019),l=a(9010),o=a(6371),c=a(8725),g=a(8239),i=a(865),h=a(7524);function p(r,t){if(1&r&&i._UZ(0,"img",7),2&r){const s=i.oxw().$implicit;i.Q6J("src",s.imagenPerfil,i.LSH)}}function f(r,t){1&r&&i._UZ(0,"img",8)}function A(r,t){if(1&r){const s=i.EpF();i.TgZ(0,"ion-item-sliding"),i.TgZ(1,"ion-item"),i.TgZ(2,"ion-avatar",2),i.YNc(3,p,1,1,"img",3),i.YNc(4,f,1,0,"ng-template",null,4,i.W1O),i.qZA(),i.TgZ(6,"ion-label"),i.TgZ(7,"h2"),i._uU(8),i.qZA(),i.TgZ(9,"p"),i._uU(10),i.qZA(),i.qZA(),i.qZA(),i.TgZ(11,"ion-item-options",5),i.TgZ(12,"ion-item-option",6),i.NdJ("click",function(){const d=i.CHM(s).$implicit;return i.oxw().confirmarEliminacion(d)}),i._uU(13," Eliminar "),i.qZA(),i.qZA(),i.qZA()}if(2&r){const s=t.$implicit,e=i.MAs(5);i.xp6(3),i.Q6J("ngIf",s.imagenPerfil)("ngIfElse",e),i.xp6(5),i.Oqu(s.nombreCompleto),i.xp6(2),i.Oqu(s.correo)}}const U=[{path:"",component:(()=>{class r{constructor(s,e){this.toastController=s,this.userService=e,this.usuarios=[],this.usuariosFiltrados=[],this.searchTerm=""}ngOnInit(){this.userService.getUsers().subscribe(s=>{this.usuarios=s,this.usuariosFiltrados=s})}buscarUsuarios(){this.usuariosFiltrados=this.searchTerm?this.usuarios.filter(s=>s.nombreCompleto.toLowerCase().includes(this.searchTerm.toLowerCase())):this.usuarios}confirmarEliminacion(s){var e=this;return(0,g.Z)(function*(){yield(yield e.toastController.create({message:`\xbfDeseas eliminar a ${s.nombreCompleto}?`,duration:3e3,buttons:[{side:"end",text:"Eliminar",handler:()=>{e.eliminarUsuario(s._id)}}]})).present()})()}eliminarUsuario(s){this.userService.deleteUser(s).subscribe(e=>{"Usuario eliminado de forma correcta"===e?(this.usuarios=this.usuarios.filter(n=>n._id!==s),this.usuariosFiltrados=this.usuariosFiltrados.filter(n=>n._id!==s)):alert("Ocurrio un error al eliminar al usuario")})}}return r.\u0275fac=function(s){return new(s||r)(i.Y36(o.yF),i.Y36(h.K))},r.\u0275cmp=i.Xpm({type:r,selectors:[["app-administrador-usuarios"]],decls:9,vars:2,consts:[[3,"ngModel","ngModelChange","ionChange"],[4,"ngFor","ngForOf"],["slot","start"],["class","user-image","alt","Foto de perfil",3,"src",4,"ngIf","ngIfElse"],["defaultImage",""],["side","end"],["color","danger",3,"click"],["alt","Foto de perfil",1,"user-image",3,"src"],["src","assets/imgs/hombre.png","alt","Foto de perfil predeterminada",1,"user-image"]],template:function(s,e){1&s&&(i.TgZ(0,"ion-header"),i.TgZ(1,"ion-toolbar"),i.TgZ(2,"ion-title"),i._uU(3,"Usuarios"),i.qZA(),i.qZA(),i.TgZ(4,"ion-toolbar"),i.TgZ(5,"ion-searchbar",0),i.NdJ("ngModelChange",function(d){return e.searchTerm=d})("ionChange",function(){return e.buscarUsuarios()}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(6,"ion-content"),i.TgZ(7,"ion-list"),i.YNc(8,A,14,4,"ion-item-sliding",1),i.qZA(),i.qZA()),2&s&&(i.xp6(5),i.Q6J("ngModel",e.searchTerm),i.xp6(3),i.Q6J("ngForOf",e.usuariosFiltrados))},directives:[o.Gu,o.sr,o.wd,o.VI,o.j9,l.JJ,l.On,o.W2,o.q_,u.sg,o.td,o.Ie,o.BJ,u.O5,o.Q$,o.IK,o.u8],styles:['@charset "UTF-8";.user-image[_ngcontent-%COMP%]{width:50px;height:auto;margin-right:10px}']}),r})()}];let Z=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[[c.Bz.forChild(U)],c.Bz]}),r})(),T=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[[u.ez,l.u5,o.Pc,Z]]}),r})()}}]);