"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8110],{8110:(M,d,i)=>{i.r(d),i.d(d,{InformacionPageModule:()=>P});var m=i(6019),p=i(9010),a=i(6371),l=i(8725),g=i(8239),c=i(2395),o=i(865),u=i(4522);let h=(()=>{class e{constructor(n){this.http=n,this.apiUrl="https://metrotrackerbackend.onrender.com/api/accesibilidad"}obtenerLista(){return this.http.get(this.apiUrl)}}return e.\u0275fac=function(n){return new(n||e)(o.LFG(u.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const f=[{path:"",component:(()=>{class e{constructor(n){this.accesibilidadService=n,this.map=null}ngOnInit(){this.accesibilidadService.obtenerLista().subscribe(n=>{this.markers=n,this.getCurrentPosition(),this.loadMap()})}checkPermissions(){return(0,g.Z)(function*(){"granted"!==(yield c.b.checkPermissions()).location&&(yield c.b.requestPermissions())})()}getCurrentPosition(){var n=this;return(0,g.Z)(function*(){n.checkPermissions();try{const t=yield c.b.getCurrentPosition();n.addCurrentLocationMarker({lat:t.coords.latitude,lng:t.coords.longitude})}catch(t){console.error("Error getting location",t)}})()}addCurrentLocationMarker(n){new google.maps.Marker({position:n,map:this.map,title:"Tu ubicaci\xf3n",icon:{url:"https://i.stack.imgur.com/pQ1Cq.png",scaledSize:new google.maps.Size(50,50),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(25,50)}})}loadMap(){const n=document.getElementById("map");this.map=new google.maps.Map(n,{center:{lat:19.432608,lng:-99.133209},zoom:12}),google.maps.event.addListenerOnce(this.map,"idle",()=>{this.renderMarkers(),this.getCurrentPosition(),n.classList.add("show-map")})}renderMarkers(){this.markers.forEach(n=>{this.addMarker(n)})}addMarker(n){const t=new google.maps.Marker({position:n.position,map:this.map,title:n.title,icon:{url:n.icon,scaledSize:new google.maps.Size(22,22),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(20,40)}}),s=new google.maps.InfoWindow({content:`<h3>${n.title}</h3> <br> <h4>${n.accessibility}</h4>`});return t.addListener("click",()=>{s.open(this.map,t)}),t}openMap(){window.open("https://metro-cdmx.com.mx/wp-content/uploads/2022/04/plano-red-metro-cdmx.jpg","_blank")}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(h))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-informacion"]],decls:30,vars:0,consts:[["id","map"],["id","item",1,"div1"],[3,"click"],["src","https://metro-cdmx.com.mx/wp-content/uploads/2022/04/plano-red-metro-cdmx.jpg","alt","Metro CDMX"]],template:function(n,t){1&n&&(o.TgZ(0,"ion-header"),o.TgZ(1,"ion-toolbar"),o.TgZ(2,"ion-title"),o._uU(3,"Informacion de Accesibilidad"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4,"ion-content"),o._UZ(5,"div",0),o.TgZ(6,"div",1),o.TgZ(7,"ion-card"),o.TgZ(8,"ion-card-header"),o.TgZ(9,"ion-card-title"),o._uU(10,"Informaci\xf3n General"),o.qZA(),o.qZA(),o.TgZ(11,"ion-card-content"),o.TgZ(12,"p"),o.TgZ(13,"strong"),o._uU(14,"Horario de servicio:"),o.qZA(),o._uU(15," D\xedas Laborales de 5:00 a 24:00 horas. S\xe1bados de 6:00 a 24:00 horas. Domingos y d\xedas festivos de 7:00 a 24:00 horas."),o.qZA(),o.TgZ(16,"p"),o.TgZ(17,"strong"),o._uU(18,"Acceso gratuito a:"),o.qZA(),o._uU(19," Adultos mayores, Personas con discapacidad, Ni\xf1os menores de 5 a\xf1os, J\xf3venes del INJUVE y Polic\xedas uniformados."),o.qZA(),o.TgZ(20,"p"),o.TgZ(21,"strong"),o._uU(22,"Costo del boleto:"),o.qZA(),o._uU(23," $5 pesos."),o.qZA(),o.qZA(),o.qZA(),o.TgZ(24,"ion-card",2),o.NdJ("click",function(){return t.openMap()}),o.TgZ(25,"ion-card-header"),o.TgZ(26,"ion-card-title"),o._uU(27,"Mapa del Metro CDMX"),o.qZA(),o.qZA(),o.TgZ(28,"ion-card-content"),o._UZ(29,"ion-img",3),o.qZA(),o.qZA(),o.qZA(),o.qZA())},directives:[a.Gu,a.sr,a.wd,a.W2,a.PM,a.Zi,a.Dq,a.FN,a.Xz],styles:[".div1[_ngcontent-%COMP%]{padding:20px;box-shadow:0 -4px 3px #d7d8da;border-top-left-radius:15px;border-top-right-radius:15px;position:absolute;width:100%;z-index:99999;margin-top:-100px;background:white}ion-content[_ngcontent-%COMP%]   #map[_ngcontent-%COMP%]{width:100%;height:100%;opacity:0;transition:opacity .15s ease-in;display:block}ion-content[_ngcontent-%COMP%]   #map.show-map[_ngcontent-%COMP%]{opacity:1}"]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[l.Bz.forChild(f)],l.Bz]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[m.ez,p.u5,a.Pc,Z]]}),e})()}}]);